<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Checkout | Shopify Themes</title>
    <meta name="description" content="Secure checkout for premium Shopify themes with optional SEO checklist.">
    <meta name="keywords" content="Shopify themes, checkout, SEO checklist, Razorpay, online payment">
    <link rel="canonical" href="https://yourwebsite.com/theme-checkout" /> <link rel="shortcut icon" href="https://img.flexifunnels.com/images/3110/g1oty_500_nikhilphalswalfavicon.png" type="image/png"/>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap">

    <style>
        /* Basic Styling to make the form presentable */
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            color: #333;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        h2 {
            font-size: 1.5em;
            color: #d9534f; /* Red for emphasis */
            margin-bottom: 20px;
        }

        .highlight-offer-box {
            border: 2px solid #28a745; /* Green border */
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            background-color: #f8f9fa;
        }

        .ribbon {
            position: absolute;
            top: 15px;
            right: -30px;
            width: 150px;
            background-color: #ffc107; /* Yellow for attention */
            color: #333;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            padding: 5px 0;
            transform: rotate(45deg);
            transform-origin: 50% 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .ribbon span {
            display: block;
            text-transform: uppercase;
        }

        .seo-checklist-option {
            margin-top: 25px;
            margin-bottom: 25px;
            font-size: 1.1em;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap; /* Allow wrapping on small screens */
        }

        .seo-checklist-option input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.5); /* Make checkbox larger */
            cursor: pointer;
        }

        #paymentButtonContainer {
            margin-top: 30px;
            text-align: center;
            min-height: 60px; /* Reserve space to prevent layout shift */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #paymentButtonContainer p {
            color: #999;
            font-size: 16px;
        }

        /* Basic form input styling */
        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-group input[type="text"],
        .form-group input[type="email"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
            box-sizing: border-box; /* Include padding and border in element's total width and height */
        }

        /* Responsive adjustments */
        @media (max-width: 575.98px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 1.5em;
            }
            h2 {
                font-size: 1.2em;
            }
            .seo-checklist-option {
                font-size: 1em;
                flex-direction: column;
            }
            .seo-checklist-option input[type="checkbox"] {
                margin-right: 0;
                margin-bottom: 10px;
            }
            .ribbon {
                width: 100px;
                right: -20px;
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Congrats! You're just one step away from building Your First <span style="color:#ffff00;">Website in Minutes!</span></h1>

        <div class="highlight-offer-box">
            <div class="ribbon"><span>Limited Time</span></div>
            <h2>Worth <span style="color:#ff0000;">₹8,50,000+</span> of Themes</h2>
            <h1>At Just ₹<span id="priceDisplay">249</span></h1>
            <p class="offer-detail">Get instant access to 500+ premium Shopify themes!</p>

            <div class="seo-checklist-option">
                <input type="checkbox" id="seoChecklist" onchange="updatePaymentButton()">
                <label for="seoChecklist">Add SEO Checklist to Your Order (Worth ₹1,500) for Just ₹149 extra!</label>
            </div>
        </div>

        <form id="checkoutForm">
            <div class="form-group">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" name="fullName" placeholder="Your Full Name" required>
            </div>
            <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="text" id="phoneNumber" name="phoneNumber" placeholder="Your Phone Number" required>
            </div>
            <div class="form-group">
                <label for="email">Email ID</label>
                <input type="email" id="email" name="email" placeholder="Your Email ID" required>
            </div>

            <div id="paymentButtonContainer">
                <p>Loading payment button...</p>
            </div>
        </form>

        <div style="margin-top: 30px;">
            <img src="https://img.flexifunnels.com/images/3110/cynzm_500_safepaymentcheckoutCopy.jpg" alt="Secure Payment" style="max-width: 100%; height: auto;">
        </div>
    </div>

    <script src="https://checkout.razorpay.com/v1/payment-button.js"></script>

    <script>
        function updatePaymentButton() {
            const seoChecklist = document.getElementById('seoChecklist');
            const paymentButtonContainer = document.getElementById('paymentButtonContainer');
            const priceDisplay = document.getElementById('priceDisplay');

            // Define your Razorpay Payment Button IDs
            const BASE_PRICE_BUTTON_ID = "pl_QZuba33aCzBSdT"; // For ₹249
            const WITH_SEO_BUTTON_ID = "pl_QZuk9rLMOZNtnC";   // For ₹398

            let currentButtonId;
            let currentPrice;

            if (seoChecklist.checked) {
                currentButtonId = WITH_SEO_BUTTON_ID;
                currentPrice = '398';
            } else {
                currentButtonId = BASE_PRICE_BUTTON_ID;
                currentPrice = '249';
            }

            // Update the displayed price
            priceDisplay.textContent = currentPrice;

            // Clear existing button and replace with the new one
            // This is the crucial part for dynamic Razorpay button updates
            paymentButtonContainer.innerHTML = ''; // Clear existing content

            const formElement = document.createElement('form');
            // The Razorpay payment button script expects data attributes on the form itself
            formElement.setAttribute('data-payment_button_id', currentButtonId);

            // Append the form to the container. Razorpay's script, already loaded,
            // will then "find" this form and render the button inside it.
            paymentButtonContainer.appendChild(formElement);

            // Re-initialize or re-render the Razorpay button.
            // This is a common pattern for dynamically changing Razorpay buttons.
            // We can re-call the Razorpay script's method or simply rely on its mutation observer
            // if it exists, or just ensure the form is added correctly.
            // For Razorpay's payment-button.js, simply changing the data attribute on the form
            // and re-appending the form is usually enough if the script itself is loaded.
            // If it doesn't re-render, you might need to manually trigger a re-render.
            // In many cases, just adding the form with the new data-attribute works.
        }

        // Call the function on page load to set the initial button and price
        document.addEventListener('DOMContentLoaded', updatePaymentButton);
    </script>
</body>
</html>
